<!-- app/views/chats/show.html.erb -->
<div class="container">
  <h1><%= @chat.title %></h1>
  <p class="text-muted">
    <strong>Trip Details:</strong><br>
    Destination: <%= @chat.trip.destination %><br>
    Departure: <%= @chat.trip.departure_city %><br>
    Dates: <%= @chat.trip.start_date %> to <%= @chat.trip.end_date %><br>
    Travelers: <%= @chat.trip.traveler_count %> | Budget: $<%= @chat.trip.budget %>
  </p>

  <!-- 消息列表 -->
  <div id="messages" class="mb-4">
    <% @messages.each do |message| %>
      <div class="message <%= message.role %>">
        <strong><%= message.role == "user" ? "Vous" : "Assistant" %>:</strong>
        <%= message.content %>
      </div>
    <% end %>
  </div>

  <!-- 消息输入表单 -->
  <div id="new_message">
    <%= simple_form_for [@chat, @message] do |f| %>
      <%= f.input :content, label: false, placeholder: "Posez votre question..." %>
      <%= f.button :submit, "Envoyer", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
